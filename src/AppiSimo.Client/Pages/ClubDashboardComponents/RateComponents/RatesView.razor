@inherits RatesComponent

@if (ViewModel == null)
{
    <span>Loading ...</span>
    return;
}

<div class="d-flex justify-content-end mb-2">
    <button class="btn btn-outline-primary w-10" @onclick="GoToCreate">Crea</button>
</div>

<div class="d-flex justify-content-end mb-2">

    <CascadingValue Value="@ViewModel" Name="Value">

        <TableTemplate TItem="RateViewModel" Context="rate">
    
            <TableHeader>
    
                <th>Name</th>
                <th>Data Inzio</th>
                <th>Data Fine</th>
                <th>Orari</th>
                <th>Prezzi</th>
                <th></th>
    
            </TableHeader>
    
            <RowTemplate>
    
                <td class="align-middle">@rate.Entity.Name</td>
                <td class="align-middle">@rate.Entity.Start</td>
                <td class="align-middle">@rate.Entity.End")</td>
                <td class="align-middle">
                    @foreach (var dailyRate in rate.DailyRates)
                    {
                        <div>
                            <span>@($"dalle {dailyRate.Entity.Start}")</span>
                            <span>@($"alle {dailyRate.Entity.End}")</span>
                        </div>
                    }
                </td>
    
                <td class="align-middle">
                    @foreach (var dailyRate in rate.DailyRates)
                    {
                        <div>@dailyRate.Entity.Price &euro;</div>
                    }
                </td>
    
                <td class="pointer align-middle" @onclick="() => GoToEdit(rate.Id)">
                    <span class="oi oi-external-link"></span>
                </td>
    
            </RowTemplate>
    
        </TableTemplate>

    </CascadingValue>

</div>